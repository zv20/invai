# InvAI Environment Configuration
# Copy this file to .env and configure for your environment

# ==================================================
# SERVER CONFIGURATION
# ==================================================
PORT=3000
NODE_ENV=development

# ==================================================
# DATABASE CONFIGURATION
# ==================================================

# Database Type: 'sqlite' (default) or 'postgres'
DATABASE_TYPE=sqlite

# --- SQLite Configuration (Development/Testing) ---
# Path to SQLite database file
DATABASE_FILENAME=./data/inventory.db

# --- PostgreSQL Configuration (Production) ---
# Uncomment and configure when using PostgreSQL
# DATABASE_TYPE=postgres
# DATABASE_HOST=localhost
# DATABASE_PORT=5432
# DATABASE_NAME=invai_production
# DATABASE_USER=invai_user
# DATABASE_PASSWORD=your_secure_password_here

# PostgreSQL Connection Pool Settings (optional)
# DATABASE_POOL_MAX=20
# DATABASE_POOL_IDLE_TIMEOUT=30000
# DATABASE_POOL_CONNECTION_TIMEOUT=2000

# ==================================================
# SECURITY CONFIGURATION
# ==================================================

# JWT Secret (REQUIRED - generate a strong random string)
# Example: openssl rand -base64 64
JWT_SECRET=your_jwt_secret_here_change_this_in_production

# JWT Expiration (default: 8 hours)
JWT_EXPIRATION=8h

# Session Configuration
SESSION_TIMEOUT=28800
INACTIVITY_TIMEOUT=1800
MAX_CONCURRENT_SESSIONS=3
SESSION_CLEANUP_INTERVAL=900

# Password Policy
PASSWORD_EXPIRY_DAYS=90
PASSWORD_EXPIRY_WARNING_DAYS=14

# Account Lockout
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900

# ==================================================
# PWA & PUSH NOTIFICATIONS (Sprint 6)
# ==================================================

# VAPID Keys for Push Notifications
# Generate with: node scripts/generate-vapid-keys.js
# Or: node -e "console.log(require('web-push').generateVAPIDKeys())"
VAPID_PUBLIC_KEY=your_vapid_public_key_here
VAPID_PRIVATE_KEY=your_vapid_private_key_here
VAPID_SUBJECT=mailto:your-email@example.com

# PWA Configuration
PWA_ENABLED=true
PWA_CACHE_VERSION=v1
PWA_OFFLINE_MODE=true

# Push Notification Settings
PUSH_NOTIFICATIONS_ENABLED=true
PUSH_NOTIFICATION_TTL=2419200

# ==================================================
# LOGGING CONFIGURATION
# ==================================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs

# ==================================================
# BACKUP CONFIGURATION (Sprint 4)
# ==================================================
BACKUP_ENABLED=true
BACKUP_STORAGE=local
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_RETENTION_MONTHLY=12
BACKUP_RETENTION_YEARLY=7

# AWS S3 Backup Configuration
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=invai-backups

# Backblaze B2 Backup Configuration
# B2_APPLICATION_KEY_ID=your_key_id
# B2_APPLICATION_KEY=your_application_key
# B2_BUCKET_NAME=invai-backups

# Local/NAS Backup Configuration
BACKUP_LOCAL_PATH=./backups

# ==================================================
# MOBILE & BARCODE SCANNER (Sprint 6)
# ==================================================

# Barcode Scanner Settings
BARCODE_SCANNER_ENABLED=true
BARCODE_API_URL=https://api.barcodelookup.com
BARCODE_API_KEY=your_barcode_api_key_here

# Camera Settings
CAMERA_MAX_RESOLUTION=1920x1080
CAMERA_COMPRESSION_QUALITY=0.8

# ==================================================
# ANALYTICS & PREDICTIONS (Sprint 5)
# ==================================================

# Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_CACHE_TTL=3600

# Prediction Settings
PREDICTION_ENABLED=true
PREDICTION_CONFIDENCE_THRESHOLD=0.7
PREDICTION_LOOKBACK_DAYS=90

# Search Configuration
SEARCH_ENABLED=true
SEARCH_FUZZY_THRESHOLD=0.6
SEARCH_MAX_RESULTS=100
